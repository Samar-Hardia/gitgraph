package org.apache.jsp.j.diagramo_com.editor;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class editor_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.ArrayList<String>(1);
    _jspx_dependants.add("/j/diagramo.com/editor/Language.jsp");
  }

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("    <script>\n");
      out.write("        confirm(\"enter UML interface?\");\n");
      out.write("        </script>\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("\n");
      out.write("<head>\n");
      out.write("        <title>Plotters- an easy way to graphs and charts</title>\n");
      out.write("         \n");
      out.write("        <meta charset=\"UTF-8\">\n");
      out.write("        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=9\" />\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"assets/javascript/dropdownmenu.js\"></script>    \n");
      out.write("        \n");
      out.write("        <link rel=\"stylesheet\" media=\"screen\" type=\"text/css\" href=\"assets/css/style.css\" />\n");
      out.write("        <link rel=\"stylesheet\" media=\"screen\" type=\"text/css\" href=\"assets/css/minimap.css\" />\n");
      out.write("        \n");
      out.write("       \n");
      out.write("        <script type=\"text/javascript\" src=\"assets/javascript/jquery-1.11.0.min.js\"></script>\n");
      out.write("       \n");
      out.write("        <link type='text/css' href='assets/simplemodal/css/diagramo.css' rel='stylesheet' media='screen' />\n");
      out.write("        <script type=\"text/javascript\" src=\"assets/simplemodal/js/jquery.simplemodal.js\"></script>\n");
      out.write("          <script type=\"text/javascript\" src=\"lib/sets/experimental/experimental.js\"></script>\n");
      out.write("       \n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\">\n");
      out.write("            \"use strict\";\n");
      out.write("\n");
      out.write("            var appURL = 'http://diagramo.com/';\n");
      out.write("            var figureSetsURL = appURL + '/editor/lib/sets';\n");
      out.write("            var insertImageURL = appURL + '/editor/data/import/';\n");
      out.write("\n");
      out.write("            function showImport(){\n");
      out.write("    \n");
      out.write("                var r = confirm(\"Current diagram will be deleted. Are you sure?\");\n");
      out.write("                if(r === true){                    \n");
      out.write("                    $('#import-dialog').modal(); // jQuery object; this demo\n");
      out.write("                }                \n");
      out.write("            }\n");
      out.write("        </script>\n");
      out.write("        <script src=\"http://hongru.github.io/proj/canvas2image/canvas2image.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/dashed.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/canvasprops.js\"></script>        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/style.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/primitives.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/ImageFrame.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/matrix.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/util.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/key.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/groups.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/stack.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/connections.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/connectionManagers.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/handles.js\"></script>\n");
      out.write("        \n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/builder.js\"></script>        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/text.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/log.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/text.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/browserReady.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/containers.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/importer.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/main.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/sets/basic/basic.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/sets/secondary/secondary.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/sets/statemachine/statemachine.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/minimap.js\"></script>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/History.js\"></script>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureCreateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureCloneCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureTranslateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureRotateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureScaleCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureZOrderCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/FigureDeleteCommand.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupRotateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupScaleCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupCreateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupCloneCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupDestroyCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupDeleteCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/GroupTranslateCommand.js\"></script>\n");
      out.write("        \n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ContainerCreateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ContainerDeleteCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ContainerTranslateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ContainerScaleCommand.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ConnectorCreateCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ConnectorDeleteCommand.js\"></script>                                \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ConnectorAlterCommand.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/ShapeChangePropertyCommand.js\"></script>\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/CanvasChangeColorCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/CanvasChangeSizeCommand.js\"></script>\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/CanvasFitCommand.js\"></script>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\" src=\"lib/commands/InsertedImageFigureCreateCommand.js\"></script>\n");
      out.write("\n");
      out.write("        \n");
      out.write("        <script type=\"text/javascript\" src=\"assets/javascript/colorPicker_new.js\"></script>\n");
      out.write("        <link rel=\"stylesheet\" media=\"screen\" type=\"text/css\" href=\"assets/css/colorPicker_new.css\" />\n");
      out.write("\n");
      out.write("\n");
      out.write("       \n");
      out.write("    </head>\n");
      out.write("    <body onload=\"init('');\" id=\"body\">\n");
      out.write("        \n");
      out.write("     <div class=\"content-wrapper\">\n");
      out.write("          <div id=\"mainContent\">\n");
      out.write("    <div class=\"container-fluid\">\n");
      out.write("        \n");
      out.write("        <div class=\"row\">\n");
      out.write("</div>\n");
      out.write("        <div id=\"actions\">\n");
      out.write("            <a class=\"navbar-brand notranslate\" href=\"http://localhost:8084/Plotit/\"  style=\"font-family:cursive;font-size:30px;color:white;text-decoration: none;padding-right: 100px\">Plotters</a>\n");
      out.write("          \n");
      out.write(" <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a style=\"text-decoration: none;\" href=\"#\" onclick=\"savemyimage()\" title=\"Save diagram (Ctrl-S)\"><img src=\"assets/images/icon_save.jpg\" border=\"0\" width=\"16\" height=\"16\"/></a>\n");
      out.write("            \n");
      out.write("           \n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('connector-straight');\"  title=\"Straight connector\"><img src=\"assets/images/icon_connector_straight.gif\" border=\"0\"/></a>\n");
      out.write("\n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('connector-jagged');\" title=\"Jagged connector\"><img src=\"assets/images/icon_connector_jagged.gif\" border=\"0\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('connector-organic');\" title=\"Organic connector\"><img src=\"assets/images/icon_connector_organic.gif\" border=\"0\" alt=\"Organic\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('container');\" title=\"Class\"><img src=\"assets/images/container.png\" border=\"0\" alt=\"Container\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>            \n");
      out.write("                        \n");
      out.write("            <input type=\"checkbox\" onclick=\"showGrid();\" id=\"gridCheckbox\"  title=\"Show grid\" /> <span class=\"toolbarText\">Show grid</span>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <input type=\"checkbox\" onclick=\"snapToGrid();\" id=\"snapCheckbox\" title=\"Snap elements to grid\" /> <span class=\"toolbarText\">Snap to grid</span>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("\n");
      out.write("            <a href=\"javascript:action('front');\" title=\"Move to front\"><img src=\"assets/images/icon_front.gif\" border=\"0\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('back');\" title=\"Move to back\"><img src=\"assets/images/icon_back.gif\" border=\"0\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('moveforward');\" title=\"Move (one level) to front\"><img src=\"assets/images/icon_forward.gif\" border=\"0\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:action('moveback');\" title=\"Move (one level) back\"><img src=\"assets/images/icon_backward.gif\" border=\"0\"/></a>\n");
      out.write("\n");
      out.write("            \n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            <a href=\"javascript:action('group');\" title=\"Group (Ctrl-G)\"><img src=\"assets/images/group.gif\" border=\"0\"/></a>\n");
      out.write("            \n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            <a href=\"javascript:action('ungroup');\" title=\"Ungroup (Ctrl-U)\"><img src=\"assets/images/ungroup.gif\" border=\"0\"/></a>\n");
      out.write("\n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("            <a href=\"javascript:createFigure(figure_Text, 'assets/images/text.gif');\"  title=\"Add text\"><img  src=\"assets/images/text.gif\" border=\"0\" height =\"16\"/></a>\n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            \n");
      out.write("           \n");
      out.write("\n");
      out.write("            <a href=\"javascript:action('undo');\" title=\"Undo (Ctrl-Z)\"><img src=\"assets/images/arrow_undo.png\" border=\"0\"/></a>\n");
      out.write("            <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>\n");
      out.write("            ");
 if(session.getAttribute("UID")!=null){
       
            out.print("<a href=\"LogOut.jsp\" style=\"text-decoration: none;font-family: cursive;color:white;left-padding:100px;\" >LogOut</a>");
            }else{
            out.print("<a href=\"http://localhost:8084/Plotit/SignInForm.jsp\"  style=\"text-decoration: none;color:white;font-family: cursive\" >Sign In</a>");
            out.print(" <img class=\"separator\" src=\"assets/images/toolbar_separator.gif\" border=\"0\" width=\"1\" height=\"16\"/>");
            out.print("<a href=\"http://localhost:8084/Plotit/Login.jsp\" style=\"text-decoration: none;color:white;font-family: cursive\" >Login</a>");
            }
            
      out.write("\n");
      out.write("        </div>\n");
      out.write("        \n");
      out.write("        ");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("   <div>\n");
      out.write("            <div id=\"google_translate_element\"></div><script type=\"text/javascript\">\n");
      out.write("function googleTranslateElementInit() {\n");
      out.write("  new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');\n");
      out.write("}\n");
      out.write("</script><script type=\"text/javascript\" src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"></script>\n");
      out.write("          <style type=\"text/css\">iframe.goog-te-banner-frame{ display: none !important;}</style>\n");
      out.write("<style type=\"text/css\">body {position: static !important; top:0px !important;}</style>\n");
      out.write("</html>\n");
      out.write(" \n");
      out.write("        <br/><br/>\n");
      out.write("        <div id=\"editor\">\n");
      out.write("            <div id=\"figures\">\n");
      out.write("                <select style=\"width: 120px;\" onchange=\"setFigureSet(this.options[this.selectedIndex].value);\">\n");
      out.write("                    <script>\n");
      out.write("                        \"use strict\";\n");
      out.write("                        for(var setName in figureSets){\n");
      out.write("                            var set = figureSets[setName];\n");
      out.write("                            document.write('<option value=\"' + setName + '\">' + set['name'] + '</option>');\n");
      out.write("                        }\n");
      out.write("                    </script>\n");
      out.write("                </select>\n");
      out.write("                \n");
      out.write("                <script>\n");
      out.write("                    \"use strict\";\n");
      out.write("\n");
      out.write("                    function buildPanel(){\n");
      out.write("                        //var first = true;\n");
      out.write("                        var firstPanel = true;\n");
      out.write("                        for(var setName in figureSets){                            \n");
      out.write("                            var set = figureSets[setName];\n");
      out.write("\n");
      out.write("                            var eSetDiv = document.createElement('div');\n");
      out.write("                            eSetDiv.setAttribute('id', setName);\n");
      out.write("                            //eSetDiv.style.border = '1px solid green';\n");
      out.write("                            if(firstPanel) {\n");
      out.write("                                firstPanel = false;\n");
      out.write("                            }\n");
      out.write("                            else{\n");
      out.write("                                eSetDiv.style.display = 'none';\n");
      out.write("                            }\n");
      out.write("                            document.getElementById('figures').appendChild(eSetDiv);\n");
      out.write("                            \n");
      out.write("                            //add figures to the div\n");
      out.write("                            for(var figure in set['figures']){\n");
      out.write("                                figure = set['figures'][figure];\n");
      out.write("                                \n");
      out.write("                                var figureFunctionName = 'figure_' + figure.figureFunction;                                \n");
      out.write("                                var figureThumbURL = 'lib/sets/' + setName + '/' + figure.image;\n");
      out.write("                                \n");
      out.write("                                var eFigure = document.createElement('img');\n");
      out.write("                                eFigure.setAttribute('src', figureThumbURL);\n");
      out.write("                                \n");
      out.write("                                eFigure.addEventListener('mousedown', function (figureFunction, figureThumbURL){                                    \n");
      out.write("                                    return function(evt) {\n");
      out.write("                                        evt.preventDefault();\n");
      out.write("                                        \n");
      out.write("                                        createFigure(window[figureFunction] /*we need to search for function in window namespace (as all that we have is a simple string)**/\n");
      out.write("                                            ,figureThumbURL);\n");
      out.write("                                    };\n");
      out.write("                                } (figureFunctionName, figureThumbURL)\n");
      out.write("                                , false);\n");
      out.write("\n");
      out.write("                                eFigure.addEventListener('mouseup', function (){\n");
      out.write("                                    createFigureFunction = null;    \n");
      out.write("                                    selectedFigureThumb = null;\n");
      out.write("                                    state = STATE_NONE;\n");
      out.write("                                }\n");
      out.write("                                , false);                                                                                                \n");
      out.write("                                \n");
      out.write("                                \n");
      out.write("                                eFigure.style.cursor = 'pointer';\n");
      out.write("                                eFigure.style.marginRight = '5px';\n");
      out.write("                                eFigure.style.marginTop = '2px';\n");
      out.write("                                \n");
      out.write("                                eSetDiv.appendChild(eFigure);\n");
      out.write("                            }\n");
      out.write("                        }\n");
      out.write("                    }\n");
      out.write("                    \n");
      out.write("                    buildPanel();\n");
      out.write("      \n");
      out.write("\n");
      out.write("                </script>\n");
      out.write("              \n");
      out.write("                <div style=\"display:none;\" id=\"more\">\n");
      out.write("                    More sets of figures <a href=\"http://diagramo.com/figures.php\" target=\"_new\">here</a>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div style=\"width: 100%\">\n");
      out.write("                <div  id=\"container\" style=\"margin-left: 100px\">\n");
      out.write("                    <canvas id=\"a\" width=\"1200\" height=\"600\">\n");
      out.write("                        Your browser does not support HTML5. Please upgrade your browser to any modern version.\n");
      out.write("                    </canvas>\n");
      out.write("                    <div id=\"text-editor\"></div>\n");
      out.write("                    <div id=\"text-editor-tools\"></div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div id=\"right\" style=\"display: none\">\n");
      out.write("                <center>\n");
      out.write("                    <div id=\"minimap\">\n");
      out.write("                    </div>\n");
      out.write("                </center>\n");
      out.write("                <div style=\"overflow: scroll;\" id=\"edit\">\n");
      out.write("                </div>\n");
      out.write("            </div>          \n");
      out.write("        </div>\n");
      out.write("        \n");
      out.write("        <iframe id=\"upload_target\" name=\"upload_target\" style=\"width:0;height:0;border:0px;\"></iframe>\n");
      out.write("\n");
      out.write("        <script type=\"text/javascript\">\n");
      out.write("            \"use strict\";\n");
      out.write("            function loadFill(check){\n");
      out.write("                if(check.checked === true){\n");
      out.write("                    if($('#colorpickerHolder3').css('display') === 'none'){\n");
      out.write("                        $('#colorSelector3').click();\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("                else{\n");
      out.write("                    if($('#colorpickerHolder3').css('display') === 'block'){\n");
      out.write("                        $('#colorSelector3').click();\n");
      out.write("                    }\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("        </script>\n");
      out.write("        <button id=\"canvasImageSave\">Save file!</button> <!-- Save button -->\n");
      out.write("        <br/>\n");
      out.write("    </div>\n");
      out.write("          </div>\n");
      out.write("         </div>\n");
      out.write("        <script>\n");
      out.write("            function savemyimage(){\n");
      out.write("            var canvas = document.getElementById(\"a\");\n");
      out.write("            var d=canvas.toDataURL(\"image/jpeg\");\n");
      out.write("               var link = document.createElement('a');\n");
      out.write("    //link.innerHTML = 'download image';\n");
      out.write("link.addEventListener('click', function(ev) {\n");
      out.write("    link.href = d;\n");
      out.write("    link.download = \"mypainting.jpeg\";\n");
      out.write("}, false);\n");
      out.write("document.body.appendChild(link);\n");
      out.write("link.click();\n");
      out.write("            //var w=window.open('about:blank','image from canvas');\n");
      out.write("           // w.document.write(\"<img src='\"+d+\"' alt='from canvas'/>\");\n");
      out.write("            function Redirect() {\n");
      out.write("    window.location.href = \"http://localhost:8084/Plotit/j/diagramo.com/editor/save.jsp\";\n");
      out.write("            }\n");
      out.write("    setTimeout(\"Redirect()\",2000);\n");
      out.write("            }\n");
      out.write("    </script>\n");
      out.write("             </body>\n");
      out.write("</html>\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
